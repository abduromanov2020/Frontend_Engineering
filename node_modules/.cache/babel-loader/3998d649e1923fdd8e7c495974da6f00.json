{"ast":null,"code":"import _asyncToGenerator from\"B:/React/frontend/movie-database/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"B:/React/frontend/movie-database/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"B:\\\\React\\\\frontend\\\\movie-database\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import{useEffect}from\"react\";import{useState}from\"react\";import ENDPOINTS from\"../../utils/constants/endpoints\";import Button from\"../ui/Button\";import StyledHero from\"./Hero.styled\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Hero(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var API_KEY=process.env.REACT_APP_API_KEY;var genres=movies&&movies.genres.map(function(genre){return genre.name;}).join(\", \");var idTrailer=movies&&movies.videos.results[0].key;var getTrendingMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios(ENDPOINTS.TRENDING);case 2:res=_context.sent;return _context.abrupt(\"return\",res.data.results[0]);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getTrendingMovies(){return _ref.apply(this,arguments);};}();var getDetailedMovies=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var trendingMovie,id,URL,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getTrendingMovies();case 2:trendingMovie=_context2.sent;id=trendingMovie.id;URL=\"https://api.themoviedb.org/3/movie/\".concat(id,\"?api_key=\").concat(API_KEY,\"&append_to_response=videos\");_context2.next=7;return axios(URL);case 7:res=_context2.sent;setMovies(res.data);case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function getDetailedMovies(){return _ref2.apply(this,arguments);};}();useEffect(getDetailedMovies,[]);return/*#__PURE__*/_jsx(StyledHero,{children:/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:movies.title}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Genre : \",genres]}),/*#__PURE__*/_jsx(\"p\",{children:movies.overview}),/*#__PURE__*/_jsx(Button,{as:\"a\",href:\"https://www.youtube.com/watch?v=\".concat(idTrailer),target:\"_blank\",children:\"Watch More\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"poster\",children:movies&&/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/w500/\".concat(movies.backdrop_path),alt:movies.Title})})]})});}export default Hero;","map":{"version":3,"sources":["B:/React/frontend/movie-database/src/components/Hero/Hero.jsx"],"names":["axios","useEffect","useState","ENDPOINTS","Button","StyledHero","Hero","movies","setMovies","API_KEY","process","env","REACT_APP_API_KEY","genres","map","genre","name","join","idTrailer","videos","results","key","getTrendingMovies","TRENDING","res","data","getDetailedMovies","trendingMovie","id","URL","title","overview","backdrop_path","Title"],"mappings":"6WAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,iCAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,eAAvB,C,wFAEA,QAASC,CAAAA,IAAT,EAAgB,CACZ,cAA4BJ,QAAQ,CAAC,EAAD,CAApC,wCAAOK,MAAP,eAAeC,SAAf,eAEA,GAAMC,CAAAA,OAAO,CAAGC,OAAO,CAACC,GAAR,CAAYC,iBAA5B,CAEA,GAAMC,CAAAA,MAAM,CAAGN,MAAM,EAAIA,MAAM,CAACM,MAAP,CAAcC,GAAd,CAAkB,SAACC,KAAD,QAAUA,CAAAA,KAAK,CAACC,IAAhB,EAAlB,EAAyCC,IAAzC,CAA8C,IAA9C,CAAzB,CACA,GAAMC,CAAAA,SAAS,CAAGX,MAAM,EAAIA,MAAM,CAACY,MAAP,CAAcC,OAAd,CAAsB,CAAtB,EAAyBC,GAArD,CAGA,GAAMC,CAAAA,iBAAiB,0FAAG,iKACJtB,CAAAA,KAAK,CAACG,SAAS,CAACoB,QAAX,CADD,QAChBC,GADgB,+CAGfA,GAAG,CAACC,IAAJ,CAASL,OAAT,CAAiB,CAAjB,CAHe,wDAAH,kBAAjBE,CAAAA,iBAAiB,0CAAvB,CAOA,GAAMI,CAAAA,iBAAiB,2FAAG,4LACMJ,CAAAA,iBAAiB,EADvB,QAChBK,aADgB,gBAEhBC,EAFgB,CAEXD,aAAa,CAACC,EAFH,CAIhBC,GAJgB,8CAI4BD,EAJ5B,qBAI0CnB,OAJ1C,sDAKJT,CAAAA,KAAK,CAAC6B,GAAD,CALD,QAKhBL,GALgB,gBAOtBhB,SAAS,CAACgB,GAAG,CAACC,IAAL,CAAT,CAPsB,wDAAH,kBAAjBC,CAAAA,iBAAiB,2CAAvB,CAWAzB,SAAS,CAACyB,iBAAD,CAAoB,EAApB,CAAT,CAEA,mBACI,KAAC,UAAD,wBACI,wCACI,aAAK,SAAS,CAAC,MAAf,wBACI,oBAAKnB,MAAM,CAACuB,KAAZ,EADJ,cAEI,iCAAajB,MAAb,GAFJ,cAGI,mBAAIN,MAAM,CAACwB,QAAX,EAHJ,cAII,KAAC,MAAD,EAAQ,EAAE,CAAC,GAAX,CAAe,IAAI,2CAAqCb,SAArC,CAAnB,CAAqE,MAAM,CAAC,QAA5E,wBAJJ,GADJ,cAOI,YAAK,SAAS,CAAC,QAAf,UACKX,MAAM,eAAI,YAAK,GAAG,2CAAqCA,MAAM,CAACyB,aAA5C,CAAR,CAAqE,GAAG,CAAEzB,MAAM,CAAC0B,KAAjF,EADf,EAPJ,GADJ,EADJ,CAeH,CAED,cAAe3B,CAAAA,IAAf","sourcesContent":["import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport ENDPOINTS from \"../../utils/constants/endpoints\";\nimport Button from \"../ui/Button\";\nimport StyledHero from \"./Hero.styled\";\n\nfunction Hero() {\n    const [movies, setMovies] = useState('');\n\n    const API_KEY = process.env.REACT_APP_API_KEY;\n\n    const genres = movies && movies.genres.map((genre)=> genre.name ).join(\", \");\n    const idTrailer = movies && movies.videos.results[0].key\n\n\n    const getTrendingMovies = async () => {\n        const res = await axios(ENDPOINTS.TRENDING)\n\n        return res.data.results[0];\n\n    }\n\n    const getDetailedMovies = async () => {\n        const trendingMovie = await getTrendingMovies();\n        const id = trendingMovie.id;\n        \n        const URL = `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&append_to_response=videos`\n        const res = await axios(URL);\n\n        setMovies(res.data);\n\n    }\n\n    useEffect(getDetailedMovies, [])\n\n    return (\n        <StyledHero>\n            <section>\n                <div className=\"info\">\n                    <h2>{movies.title}</h2>\n                    <h4>Genre : {genres}</h4>\n                    <p>{movies.overview}</p>\n                    <Button as=\"a\" href={`https://www.youtube.com/watch?v=${idTrailer}`} target=\"_blank\">Watch More</Button>\n                </div>\n                <div className=\"poster\">\n                    {movies && <img src={`https://image.tmdb.org/t/p/w500/${movies.backdrop_path}`} alt={movies.Title} />}\n                </div>\n            </section>\n        </StyledHero>\n    );\n}\n\nexport default Hero"]},"metadata":{},"sourceType":"module"}