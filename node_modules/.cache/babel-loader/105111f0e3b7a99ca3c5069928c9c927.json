{"ast":null,"code":"import _defineProperty from\"B:/React/frontend/movie-database/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"B:/React/frontend/movie-database/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"B:/React/frontend/movie-database/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{nanoid}from\"nanoid\";import{useState}from\"react\";import{useDispatch}from\"react-redux\";import{useNavigate}from\"react-router\";import{addMovie}from\"../../features/moviesSlice\";import Alert from\"../Alert/Alert\";import Button from\"../ui/Button\";import styles from\"./Form.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Form(){var nav=useNavigate();var dispatch=useDispatch();var _useState=useState({title:'',date:'',image:'',genre:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var title=formData.title,date=formData.date,image=formData.image,genre=formData.genre;var _useState3=useState({isTitleError:false,isDateError:false,isImageError:false,isGenreError:false}),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var isTitleError=error.isTitleError,isDateError=error.isDateError,isImageError=error.isImageError,isGenreError=error.isGenreError;var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value)));};var validate=function validate(){if(!title){setError(_objectSpread(_objectSpread({},error),{},{isTitleError:true}));return false;}if(!date){setError(_objectSpread(_objectSpread({},error),{},{isTitleError:false,isDateError:true}));return false;}if(!image){setError(_objectSpread(_objectSpread({},error),{},{isTitleError:false,isDateError:false,isImageError:true}));return false;}setError(_objectSpread(_objectSpread({},error),{},{isTitleError:false,isDateError:false,isImageError:false}));return true;};var submitMovie=function submitMovie(){var movie={id:nanoid(),title:title,year:date,type:genre,poster:image};dispatch(addMovie(movie));nav('/');setFormData({title:'',date:'',image:'',genre:''});};var handleSubmit=function handleSubmit(e){e.preventDefault();validate()&&submitMovie();};return/*#__PURE__*/_jsx(\"div\",{className:styles.container,children:/*#__PURE__*/_jsxs(\"section\",{className:styles.form,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.form__left,children:/*#__PURE__*/_jsx(\"img\",{className:styles.form__image,src:\"https://picsum.photos/300/250\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"form\",{className:styles.form__right,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{className:styles.form__title,children:\"Add Movie\"}),/*#__PURE__*/_jsx(\"label\",{className:styles.form__labelTitle,htmlFor:\"\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{className:styles.form__inputTitle,type:\"text\",value:title,onChange:handleChange,name:\"title\"}),isTitleError&&/*#__PURE__*/_jsx(Alert,{children:\"Title Harus Di Isi\"}),/*#__PURE__*/_jsx(\"label\",{className:styles.form__labelYear,htmlFor:\"\",children:\"Year\"}),/*#__PURE__*/_jsx(\"input\",{className:styles.form__inputYear,type:\"text\",value:date,onChange:handleChange,name:\"date\"}),isDateError&&/*#__PURE__*/_jsx(Alert,{children:\"Date Harus Di Isi\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Poster\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:image,onChange:handleChange,name:\"image\"}),isImageError&&/*#__PURE__*/_jsx(Alert,{children:\"Poster Harus Di Isi\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Genre\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:handleChange,name:\"genre\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Pilih Genre\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Horror\",children:\"Horror\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Action\",children:\"Action\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Comedy\",children:\"Comedy\"})]}),isGenreError&&/*#__PURE__*/_jsx(Alert,{children:\"Genre Harus Di Isi\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",full:true,children:\"Submit\"})]})]})});}export default Form;","map":{"version":3,"sources":["B:/React/frontend/movie-database/src/components/Form/Form.jsx"],"names":["nanoid","useState","useDispatch","useNavigate","addMovie","Alert","Button","styles","Form","nav","dispatch","title","date","image","genre","formData","setFormData","isTitleError","isDateError","isImageError","isGenreError","error","setError","handleChange","e","target","name","value","validate","submitMovie","movie","id","year","type","poster","handleSubmit","preventDefault","container","form","form__left","form__image","form__right","form__title","form__labelTitle","form__inputTitle","form__labelYear","form__inputYear"],"mappings":"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","sourcesContent":["import { nanoid } from \"nanoid\";\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router\";\nimport { addMovie } from \"../../features/moviesSlice\";\nimport Alert from \"../Alert/Alert\";\nimport Button from \"../ui/Button\";\nimport styles from \"./Form.module.css\"\n\nfunction Form() {\n\n    const nav = useNavigate();\n\n    const dispatch = useDispatch();\n    \n    const [formData, setFormData] = useState({\n        title: '',\n        date: '',\n        image: '',\n        genre: ''\n    });\n\n    const { title, date, image, genre } = formData\n\n    const [error, setError] = useState({\n        isTitleError: false,\n        isDateError: false,\n        isImageError: false,\n        isGenreError: false\n    });\n\n    const { isTitleError, isDateError, isImageError, isGenreError } = error\n\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n\n        setFormData({\n            ...formData,\n            [name]: value\n        })\n    }\n\n    const validate = () => {\n        if (!title) {\n            setError({\n                ...error,\n                isTitleError: true\n            });\n            return false;\n        }\n\n        if (!date) {\n            setError({\n                ...error,\n                isTitleError: false,\n                isDateError: true\n            });\n            return false;\n        }\n\n        if (!image) {\n            setError({\n                ...error,\n                isTitleError: false,\n                isDateError: false,\n                isImageError: true\n            });\n            return false\n        }\n\n        setError({\n            ...error,\n            isTitleError: false,\n            isDateError: false,\n            isImageError: false\n        })\n        return true;\n    }\n\n    const submitMovie = () => {\n        const movie = {\n            id: nanoid(),\n            title: title,\n            year: date,\n            type: genre,\n            poster:\n                image,\n        }\n\n        dispatch(addMovie(movie))\n\n        nav('/');\n\n        setFormData({\n            title: '',\n            date: '',\n            image: '',\n            genre: ''\n        })\n    }\n\n    const handleSubmit = (e) => {\n\n        e.preventDefault();\n\n        validate() && submitMovie();\n\n    }\n\n    return (\n        <div className={styles.container}>\n            <section className={styles.form}>\n                <div className={styles.form__left}>\n                    <img className={styles.form__image} src=\"https://picsum.photos/300/250\" alt=\"\" />\n                </div>\n                <form className={styles.form__right} onSubmit={handleSubmit}>\n                    <h2 className={styles.form__title}>Add Movie</h2>\n                    <label className={styles.form__labelTitle} htmlFor=\"\">Title</label>\n                    <input className={styles.form__inputTitle} type=\"text\" value={title} onChange={handleChange} name=\"title\" />\n                    {isTitleError && <Alert>Title Harus Di Isi</Alert>}\n                    <label className={styles.form__labelYear} htmlFor=\"\">Year</label>\n                    <input className={styles.form__inputYear} type=\"text\" value={date} onChange={handleChange} name=\"date\" />\n                    {isDateError && <Alert>Date Harus Di Isi</Alert>}\n                    <label htmlFor=\"\">Poster</label>\n                    <input type=\"text\" value={image} onChange={handleChange} name=\"image\" />\n                    {isImageError && <Alert>Poster Harus Di Isi</Alert>}\n                    <label htmlFor=\"\">Genre</label>\n                    <select onChange={handleChange} name=\"genre\" >\n                        <option>Pilih Genre</option>\n                        <option value=\"Horror\">Horror</option>\n                        <option value=\"Action\">Action</option>\n                        <option value=\"Comedy\">Comedy</option>\n                    </select>\n                    {isGenreError && <Alert>Genre Harus Di Isi</Alert>}\n                    <Button variant=\"secondary\" full>Submit</Button>\n                </form>\n            </section>\n        </div>\n    );\n}\n\nexport default Form;"]},"metadata":{},"sourceType":"module"}